<form [formGroup]="form" novalidate (submit)="onSubmit($event)">
  <div class="ui-g">
    <div class="ui-g-12 ui-lg-12">
      <div style="text-align:center">
        <h1>เพิ่มพนักงาน</h1>
      </div>
      <div class="line"></div>
      <br>
      <div class="container">
        <div class="ui-g ui-fluid">
          <div class="ui-g-10">
            <div class="form-group">
              <div class="ui-g-3" style="text-align: right;">
                <label for="username">Username :</label>
              </div>
              <div class="ui-g-8">
                <input pInputText id="username" type="text" formControlName="username" placeholder="Username" />
                <div
                  *ngIf="form.controls['username'].invalid && (form.controls['username'].dirty || form.controls['username'].touched)"
                  class="alert alert-danger">
                  <div class="text-danger text-invalid" *ngIf="form.controls['username'].errors.required">
                    กรุณากรอก Username</div>
                </div>
              </div>
              <div class="ui-g-3" style="text-align: right;">
                <label for="password">Password :</label>
              </div>
              <div class="ui-g-8">
                <input pInputText id="password" type="password" formControlName="password" placeholder="Password" />
                <div
                  *ngIf="form.controls['password'].invalid && (form.controls['password'].dirty || form.controls['password'].touched)"
                  class="alert alert-danger">
                  <div class="text-danger text-invalid" *ngIf="form.controls['password'].errors.required">
                    กรุณากรอก Password</div>
                  <div *ngIf="form.controls['password'].errors.minlength">ต้องมากกว่า 4 ตัวอักษร</div>
                </div>
              </div>
              <div class="ui-g-3" style="text-align: right;">
                <label for="fname">ชื่อ :</label>
              </div>
              <div class="ui-g-8">
                <input pInputText id="fname" type="text" formControlName="fname" placeholder="ชื่อ" />
                <div
                  *ngIf="form.controls['fname'].invalid && (form.controls['fname'].dirty || form.controls['fname'].touched)"
                  class="alert alert-danger">
                  <div class="text-danger text-invalid" *ngIf="form.controls['fname'].errors.required">
                    กรุณากรอก ชื่อ</div>
                </div>
              </div>
              <div class="ui-g-3" style="text-align: right;">
                <label for="lname">นามสกุล :</label>
              </div>
              <div class="ui-g-8">
                <input pInputText id="lname" type="text" formControlName="lname" placeholder="นามสกุล" />
                <div
                  *ngIf="form.controls['lname'].invalid && (form.controls['lname'].dirty || form.controls['lname'].touched)"
                  class="alert alert-danger">
                  <div class="text-danger text-invalid" *ngIf="form.controls['lname'].errors.required">
                    กรุณากรอก นามสกุล</div>
                </div>
              </div>
              <div class="ui-g-3" style="text-align: right;">
                <label for="tel">เบอร์โทร :</label>
              </div>
              <div class="ui-g-8">
                <p-inputMask mask="999-999-9999" placeholder="099-999-9999" formControlName="tel"></p-inputMask>
                <div
                  *ngIf="form.controls['tel'].invalid && (form.controls['tel'].dirty || form.controls['tel'].touched)"
                  class="alert alert-danger">
                  <div class="text-danger text-invalid" *ngIf="form.controls['tel'].errors.required">
                    กรุณากรอก เบอร์โทร</div>
                </div>
              </div>
              <div class="ui-g-3" style="text-align: right;">
                <label for="role">ตำแหน่ง :</label>
              </div>
              <div class="ui-g-8">
                <p-dropdown [options]="role" optionLabel="position_role" value="position_id" formControlName="role"
                  placeholder="กรุณาเลือกตำแหน่ง" [style]="{ width: '60%' }">
                </p-dropdown>
                <div
                  *ngIf="form.controls['role'].invalid && (form.controls['role'].dirty || form.controls['role'].touched)"
                  class="alert alert-danger">
                  <div class="text-danger text-invalid" *ngIf="form.controls['role'].errors.required">
                    กรุณากรอก ตำแหน่ง</div>
                </div>
              </div>
              <!-- <div class="ui-g-3" style="text-align: right;">
                <label for="work">การทำงาน :</label>
              </div>
              <div class="ui-g-8">
                <p-dropdown [options]="role" optionLabel="position_work" value="position_role" formControlName="work"
                  [style]="{ width: '60%' }">
                </p-dropdown>
              </div> -->
            </div>
          </div>
        </div>
      </div>
      <div class="center carcare-button" style="text-align: center;">
        <p-button type="submit" label="ยืนยัน"></p-button>
        <p-button type="button" label="ยกเลิก" (onClick)="onReset()"></p-button>
      </div>
    </div>
  </div>
</form>
<p-toast position="center" key="systemMessage" (onClose)="onReject()" [modal]="true" [baseZIndex]="5000" >
  <ng-template let-message pTemplate="message">
    <div style="text-align: center">
      <h3>{{ message.summary }}</h3>
      <pre class="text-left">{{ message.detail }}</pre>
    </div>
  </ng-template>
</p-toast>

<p-confirmDialog > </p-confirmDialog >
  <p-toast position="center" key="alertMessage" (onClose)="onReject()" [modal]="true" [baseZIndex]="5000" >
    <ng-template let-message pTemplate="message">
      <div style="text-align: center">
        <h3>{{ message.summary }}</h3>
        <p>{{ message.detail }}</p>
      </div>
      <div class="ui-g ui-fluid">
        <div class="ui-g-12">
          <button type="button" pButton [label]="messageback" class="ui-button-success" [routerLink]="urlback"></button>
        </div>
      </div>
    </ng-template>
  </p-toast>
